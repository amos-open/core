version: 2

metrics:
  - name: total_transactions
    description: "Total number of transactions"
    model: ref('fct_transactions')
    type: count
    sql: transaction_id

  - name: total_transaction_amount
    description: "Total amount of all transactions"
    model: ref('fct_transactions')
    type: sum
    sql: amount

  - name: avg_transaction_amount
    description: "Average transaction amount"
    model: ref('fct_transactions')
    type: average
    sql: amount

  - name: unique_funds
    description: "Number of unique funds"
    model: ref('dim_fund')
    type: count_distinct
    sql: fund_id

  - name: unique_investors
    description: "Number of unique investors"
    model: ref('dim_investor')
    type: count_distinct
    sql: investor_id

  - name: unique_companies
    description: "Number of unique companies"
    model: ref('dim_company')
    type: count_distinct
    sql: company_id
